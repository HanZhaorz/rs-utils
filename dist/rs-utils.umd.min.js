!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rsUtils={})}(this,function(e){"use strict";function t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function o(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(Object(o),!0).forEach(function(e){var t,n;t=r,e=o[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var n={int:/^(\-|\+)?([0-9]+|Infinity)$/,positiveInt:/^[1-9]\d*|0$/,positiveIntOrDecimal:/^([1-9]\d*|0)(\.\d*)?$/,idCard:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,chinese:/^[\\u4e00-\\u9fa5]{0,}$/,email:/[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,money:/^[0-9]+(.[0-9]{2})?$/,phone:/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/,ip4:/\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b/,ip6:/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/,img:/\\< *[img][^\\\\>]*[src] *= *[\\"\\']{0,1}([^\\"\\'\\ >]*)/,url:/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/,creditCode:/^[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}$/,financialCode:/^(?=.*[A-Z])(?=.*\d)[A-Z\d]{15}$/};e.calculatePercentage=function(e,t){return(e/t*100).toFixed(2<arguments.length&&void 0!==arguments[2]?arguments[2]:2)+"%"},e.convertToBase64=function(r){return new Promise(function(e,t){var n;r?((n=new FileReader).addEventListener("load",function(){return e(n.result)}),n.addEventListener("error",function(e){return t(e)}),n.readAsDataURL(r)):t(new Error("请传入File/Blob文件"))})},e.convertToFormData=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=new FormData;for(e in t)n.append(e,t[e]);return n},e.downloadViaBlob=function(e,t){var n=new Blob([e]),r=function(){if("string"==typeof t)return t;var e=null===(e=t.headers.get("content-disposition"))||void 0===e?void 0:e.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);return e?e[1]:""}();if(!r)return new Error("未匹配到文件名");"download"in document.createElement("a")?((e=document.createElement("a")).download=decodeURIComponent(r),e.style.display="none",e.href=URL.createObjectURL(n),document.body.appendChild(e),e.click(),URL.revokeObjectURL(e.href),document.body.removeChild(e)):navigator.msSaveBlob(n,r)},e.downloadViaUrl=function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",document.body.appendChild(n),n.click(),n.remove()},e.ellipsis=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length?arguments[1]:void 0;return t.style.overflow="hidden",t.style["text-overflow"]="ellipsis",1===e?t.style["white-space"]="nowrap":(t.style.display="-webkit-box",t.style["-webkit-line-clamp"]=e,t.style["-webkit-box-orient"]="vertical"),t},e.encryptPhone=function(e){return e?e.toString().replace(/(\d{3})\d*(\d{4})/,"$1****$2"):""},e.extendSerialNumber=function(n,r,e){return e.map(function(e,t){return o(o({},e),{},{$serialNumber:t+1+(n-1)*r})})},e.getLocalStorage=function(e){return(e=localStorage.getItem(e))?JSON.parse(e):null},e.getRegExp=function(e){return e?n[e]:n},e.getSessionStorage=function(e){return(e=sessionStorage.getItem(e))?JSON.parse(e):null},e.selectFiles=function(o){return new Promise(function(e,t){var n,r=document.createElement("input");for(n in r.type="file",o)r[n]=o[n];r.addEventListener("change",function(){e(r.files)}),r.addEventListener("error",function(e){t(e)}),r.click()})},e.setLocalStorage=function(e,t){t=JSON.stringify(t),localStorage.setItem(e,t)},e.setSessionStorage=function(e,t){t=JSON.stringify(t),sessionStorage.setItem(e,t)},Object.defineProperty(e,"__esModule",{value:!0})});
